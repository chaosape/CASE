############################################################################
#
#   ***AUTOGENERATED CODE (modify if you need to :-) ***
#
# TODO: add DARPA license?
#
# This file is an automatically generated makefile from the AADL build
# system designed for the CAmkES build system.  It will work for projects
# in which all C files and libraries are "known" to the AADL file.
# However, for projects with more complex dependencies and "external"
# components that are not described in the AADL file, it will need to be
# extended.
#
# This Makefile is designed for use with the Camkes distribution supporting
# linux VMs.  It does not require that the project to be built actually contains VMs.
#
# The directory containing this file should be placed under the projects/vm/apps
# directory, and a symbolic link to this directory should be created from the
# apps directory.
# So, for example, for project sel4_cpu, we would have the 'top-level' directory located here:
#    camkes-cross-vm-12_22_2016/projects/vm/apps/sel4_cpu
# and a link from the apps directory:
#    camkes-cross-vm-12_22_2016/apps/sel4_cpu
# created using (say)
# mike@mike-VirtualBox:~/Downloads/camkes-cross-vm-12_22_2016/apps$ ln -s ../projects/vm/apps/sel4_cpu sel4_cpu
#
# It is expected that the directory structure for the VM application will
# match the directory structure from other VM applications (this can be
# accomplished most easily by copying the directory structure from another VM application)
#
# The required directory structure for the app directory should be as follows:
# rwxrwxrwx 1 mike mike   12 Dec 22 12:32 common -> ../../common (mapped by you)
# drwxrwxrwx 4 mike mike 4096 Dec 12 08:11 components            (generated by TB)
# drwxrwxr-x 2 mike mike 4096 Dec 22 11:49 configurations        (needs to be provided by you!  Contains information about file system image)
# lrwxrwxrwx 1 mike mike   37 Dec 22 12:32 global-templates -> ../../../global-components/templates/   (mapped by you)
# drwxrwxrwx 2 mike mike 4096 Dec 12 08:11 include               (generated by TB)
# drwxrwxrwx 2 mike mike 4096 Dec 12 08:11 interfaces            (generated by TB)
# -rwxrwxrwx 1 mike mike  328 Dec 18 18:00 Kbuild                (copied from make_template directory)
# -rwxrwxrwx 1 mike mike  315 Dec 19 16:03 Kconfig               (copied from make_template directory)
# lrwxrwxrwx 1 mike mike   12 Dec 22 12:32 linux -> ../../linux/ (mapped by you)
# -rwxrwxrwx 1 mike mike 4839 Dec 22 12:10 Makefile              (this file - copied in by you from make_template/VM_Makefile)
# -rwxrwxrwx 1 mike mike 4608 Dec 22 14:28 your_app_name.camkes  (app-specific name generated by TB)
# drwxrwxr-x 2 mike mike 4096 Dec 13 22:33 src                   (generated by TB)
# lrwxrwxrwx 1 mike mike   16 Dec 22 12:32 templates -> ../../templates/ (mapped by you)
#
# The configurations directory must contain a file that is <appname>.h, so in
# the case of this example, sel4_cpu.h.  This file must contain configuration information
# related to the VMs and file system.  Here is an example:
#
# #define VM_NUM_GUESTS 1
#
# /* All our guests use the same kernel image, rootfs and cmdline */
# #define C162_KERNEL_IMAGE "bzimage"
# #define C162_ROOTFS "rootfs.cpio"
# #define VM_GUEST_CMDLINE "earlyprintk=ttyS0,115200 console=ttyS0,115200 root=/dev/mem i8042.nokbd=y i8042.nomux=y i8042.noaux=y io_delay=udelay noisapnp pci=nomsi"
# #
# Because of some vagaries of the linux file system and make, it is not possible to
# just construct paths either from the symbolically linked locations
#
# We are working with Data61 to simplify this process!
#
#
############################################################################
TARGETS := $(notdir ${SOURCE_DIR}).cdl
ADL := uxas_processor_assembly.camkes

# For time server: subdirectory containing extra templates.
TEMPLATES := templates global-templates

VM_CONFIG := uxas_processor
VM_NUM_VM := 0

include SerialServer/SerialServer.mk
include RTC/RTC.mk
include Ethdriver/Ethdriver.mk
include UDPServer/UDPServer.mk
include Vchan/Vchan.mk
include PCIConfigIO/PCIConfigIO.mk
include FileServer/FileServer.mk
include Init/Init.mk

# MWW TODO: Fill in time server component HERE.  Need to determine time server for Intel platforms.


AssignmentTreeBranchBoundBase_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/src/arch/${ARCH}/*.c))

AssignmentTreeBranchBoundBase_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

AssignmentTreeBranchBoundBase_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundBase/src/plat/${PLAT}/*.S))

AssignmentTreeBranchBoundService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/src/arch/${ARCH}/*.c))

AssignmentTreeBranchBoundService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

AssignmentTreeBranchBoundService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentTreeBranchBoundService/src/plat/${PLAT}/*.S))

AutomationDiagramDataService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/src/arch/${ARCH}/*.c))

AutomationDiagramDataService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

AutomationDiagramDataService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationDiagramDataService/src/plat/${PLAT}/*.S))

AutomationRequestValidatorService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/src/arch/${ARCH}/*.c))

AutomationRequestValidatorService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

AutomationRequestValidatorService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AutomationRequestValidatorService/src/plat/${PLAT}/*.S))

BatchSummaryService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/src/arch/${ARCH}/*.c))

BatchSummaryService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

BatchSummaryService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BatchSummaryService/src/plat/${PLAT}/*.S))

MessageLoggerDataService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/src/arch/${ARCH}/*.c))

MessageLoggerDataService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

MessageLoggerDataService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MessageLoggerDataService/src/plat/${PLAT}/*.S))

OperatingRegionStateService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/src/arch/${ARCH}/*.c))

OperatingRegionStateService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

OperatingRegionStateService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OperatingRegionStateService/src/plat/${PLAT}/*.S))

OsmPlannerService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/src/arch/${ARCH}/*.c))

OsmPlannerService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

OsmPlannerService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OsmPlannerService/src/plat/${PLAT}/*.S))

PlanBuilderService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/src/arch/${ARCH}/*.c))

PlanBuilderService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

PlanBuilderService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PlanBuilderService/src/plat/${PLAT}/*.S))

RouteAggregatorService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/src/arch/${ARCH}/*.c))

RouteAggregatorService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

RouteAggregatorService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RouteAggregatorService/src/plat/${PLAT}/*.S))

RoutePlannerService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/src/arch/${ARCH}/*.c))

RoutePlannerService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

RoutePlannerService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerService/src/plat/${PLAT}/*.S))

RoutePlannerVisibilityService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/src/arch/${ARCH}/*.c))

RoutePlannerVisibilityService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

RoutePlannerVisibilityService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/RoutePlannerVisibilityService/src/plat/${PLAT}/*.S))

SendMessagesService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/src/arch/${ARCH}/*.c))

SendMessagesService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

SendMessagesService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SendMessagesService/src/plat/${PLAT}/*.S))

SensorManagerService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/src/arch/${ARCH}/*.c))

SensorManagerService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

SensorManagerService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SensorManagerService/src/plat/${PLAT}/*.S))

SerialAutomationRequestTestService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/src/arch/${ARCH}/*.c))

SerialAutomationRequestTestService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

SerialAutomationRequestTestService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/SerialAutomationRequestTestService/src/plat/${PLAT}/*.S))

Test_SimulationTime_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/src/arch/${ARCH}/*.c))

Test_SimulationTime_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

Test_SimulationTime_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Test_SimulationTime/src/plat/${PLAT}/*.S))

WaypointPlanManagerService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/src/arch/${ARCH}/*.c))

WaypointPlanManagerService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

WaypointPlanManagerService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/WaypointPlanManagerService/src/plat/${PLAT}/*.S))

AngledAreaSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/src/arch/${ARCH}/*.c))

AngledAreaSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

AngledAreaSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AngledAreaSearchTask/src/plat/${PLAT}/*.S))

AssignmentCoordinatorTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/src/arch/${ARCH}/*.c))

AssignmentCoordinatorTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

AssignmentCoordinatorTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/AssignmentCoordinatorTask/src/plat/${PLAT}/*.S))

BlockadeTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/src/arch/${ARCH}/*.c))

BlockadeTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

BlockadeTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/BlockadeTask/src/plat/${PLAT}/*.S))

CmasiAreaSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/src/arch/${ARCH}/*.c))

CmasiAreaSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

CmasiAreaSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiAreaSearchTask/src/plat/${PLAT}/*.S))

CmasiLineSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/src/arch/${ARCH}/*.c))

CmasiLineSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

CmasiLineSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiLineSearchTask/src/plat/${PLAT}/*.S))

CmasiPointSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/src/arch/${ARCH}/*.c))

CmasiPointSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

CmasiPointSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CmasiPointSearchTask/src/plat/${PLAT}/*.S))

CommRelayTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/src/arch/${ARCH}/*.c))

CommRelayTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

CommRelayTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CommRelayTask/src/plat/${PLAT}/*.S))

CordonTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/src/arch/${ARCH}/*.c))

CordonTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

CordonTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/CordonTask/src/plat/${PLAT}/*.S))

EscortTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/src/arch/${ARCH}/*.c))

EscortTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

EscortTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/EscortTask/src/plat/${PLAT}/*.S))

ImpactLineSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/src/arch/${ARCH}/*.c))

ImpactLineSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

ImpactLineSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactLineSearchTask/src/plat/${PLAT}/*.S))

ImpactPointSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/src/arch/${ARCH}/*.c))

ImpactPointSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

ImpactPointSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/ImpactPointSearchTask/src/plat/${PLAT}/*.S))

MultiVehicleWatchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/src/arch/${ARCH}/*.c))

MultiVehicleWatchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

MultiVehicleWatchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/MultiVehicleWatchTask/src/plat/${PLAT}/*.S))

OverwatchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/src/arch/${ARCH}/*.c))

OverwatchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

OverwatchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/OverwatchTask/src/plat/${PLAT}/*.S))

PatternSearchTask_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/src/arch/${ARCH}/*.c))

PatternSearchTask_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

PatternSearchTask_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/PatternSearchTask/src/plat/${PLAT}/*.S))

TaskManagerService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/src/arch/${ARCH}/*.c))

TaskManagerService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

TaskManagerService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskManagerService/src/plat/${PLAT}/*.S))

TaskServiceBase_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/src/arch/${ARCH}/*.c))

TaskServiceBase_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

TaskServiceBase_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskServiceBase/src/plat/${PLAT}/*.S))

TaskTrackerService_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/src/arch/${ARCH}/*.c))

TaskTrackerService_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

TaskTrackerService_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/TaskTrackerService/src/plat/${PLAT}/*.S))

Challenge_TelemetryReceiver_CFILES +=  \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/src/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/src/plat/${PLAT}/*.c)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/src/arch/${ARCH}/*.c))

Challenge_TelemetryReceiver_HFILES += \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/include/*.h)) \
   $(patsubst ${SOURCE_DIR}/%,%,$(wildcard $(SOURCE_DIR)/common/shared_include/cross_vm_shared/*.h))

Challenge_TelemetryReceiver_ASMFILES += \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/crt/arch-${ARCH}/crt0.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/src/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/src/arch/${ARCH}/*.S)) \
    $(patsubst ${SOURCE_DIR}/%,%,$(wildcard ${SOURCE_DIR}/components/Challenge_TelemetryReceiver/src/plat/${PLAT}/*.S))



# We want to run C99
CFLAGS += -std=gnu99 "-DCAMKES_VM_CONFIG=${VM_CONFIG}" -I${SOURCE_DIR}/configurations -I${SOURCE_DIR}/../../components/VM/configurations

CAMKES_FLAGS += --cpp-flag=-I${SOURCE_DIR}/configurations --cpp-flag=-I${SOURCE_DIR}/../../components/VM --cpp-flag="-DCAMKES_VM_CONFIG=${VM_CONFIG}" --cache-dir=${PWD}/build/camkes_cache

include ${PWD}/tools/camkes/camkes.mk

KERNEL_FILENAME := bzimage
ROOTFS_FILENAME := rootfs.cpio

ARCHIVE_DEPS := ${STAGE_DIR}/${KERNEL_FILENAME} ${STAGE_DIR}/${ROOTFS_FILENAME}

${STAGE_DIR}/${KERNEL_FILENAME}: $(SOURCE_DIR)/linux/${KERNEL_FILENAME}
	@echo "[EXTRACT-VMLINUX] $@"
	$(Q)mkdir -p $(@D)
	${PWD}/tools/elf/extract-vmlinux $< > $@

${STAGE_DIR}/${ROOTFS_FILENAME}: ${SOURCE_DIR}/linux/${ROOTFS_FILENAME}
	@echo "[CP] $@"
	@cp $< $@

${BUILD_DIR}/src/fserv/static/archive.o: ${ARCHIVE_DEPS}
	$(Q)mkdir -p $(dir $@)
	@echo "[CPIO] $@"
	$(Q)${COMMON_PATH}/files_to_obj.sh $@ _cpio_archive $^
	@echo "[CPIO] done."


